<datasource-http-settings current="ctrl.current" no-direct-access="true" suggest-url="http://localhost:8080">
</datasource-http-settings>

<h3 class="page-heading">API Key Auth</h3>

<div class="gf-form-group">
    <gf-form-switch class="gf-form" label="Use API key authentication" label-class="width-19" switch-class="max-width-6"
        checked="ctrl.current.jsonData.useApiKey" on-change="ctrl.onUseApiKeyToggle()">
    </gf-form-switch>

    <div class="gf-form-inline" ng-if="ctrl.current.jsonData.useApiKey && !ctrl.current.secureJsonFields.apiKey">
        <div class="gf-form">
            <span class="gf-form-label width-9">API Key</span>
            <input class="gf-form-input width-30" type="text" ng-model="ctrl.current.secureJsonData.apiKey"
                placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" />
            <info-popover mode="right-absolute">
                <p>
                    Please see the Sensu Go
                    <a target="_blank" href="https://docs.sensu.io/sensu-go/latest/reference/apikeys/">documentation</a>
                    for information on how to create an API key.
                </p>
            </info-popover>
        </div>
    </div>
    <div class="gf-form" ng-if="ctrl.current.jsonData.useApiKey && ctrl.current.secureJsonFields.apiKey">
        <span class="gf-form-label width-9">API Key</span>
        <input type="text" class="gf-form-input max-width-12" disabled="disabled" value="configured" />
        <a class="btn btn-secondary gf-form-btn" href="#" ng-click="ctrl.resetApiKey()">reset</a>
    </div>
</div>